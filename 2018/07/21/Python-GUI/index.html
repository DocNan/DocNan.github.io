<!DOCTYPE html>
<html lang="English">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="DocNan">





<title>Python GUI | Hexo</title>



    <link rel="icon" href="../../../../ink_bamboo_1kB.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="../../../../css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="../../../../js/script.js"></script>
    
    <script src="../../../../js/tocbot.min.js"></script>
    



    
    
        <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


    


</head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Blog of DocNan</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="../../../../archives">Posts</a>
                
                    <a class="menu-item" href="../../../../Publications">Publications</a>
                
                    <a class="menu-item" href="../../../../category">Categories</a>
                
                    <a class="menu-item" href="../../../../tag">Tags</a>
                
                    <a class="menu-item" href="../../../../about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Blog of DocNan</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="../../../../archives">Posts</a>
                
                    <a class="menu-item" href="../../../../Publications">Publications</a>
                
                    <a class="menu-item" href="../../../../category">Categories</a>
                
                    <a class="menu-item" href="../../../../tag">Tags</a>
                
                    <a class="menu-item" href="../../../../about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Python GUI</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">DocNan</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">July 21, 2018&nbsp;&nbsp;19:32:55</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="../../../../Publications/Python/">Python</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="which-gui-approach-in-python">Which GUI approach in python</h1>
<p>There is a good paper[1] talking about it. In the end, PySide sames
to be a better choice. However, in the end, I choose the most reliable
way to finish it. My choice is Tkinter. That is just because tkinter has
best compatibility. I have tried it on Linux server, fedora desktop and
mac. The application written with TK work all the way. However, when I
try to use pyqt, gtk on the server, the necessary modules may not be
installed by the root manager of that server, thus you will face
difficulties to use it.</p>
<h1 id="tkinter-gui-2">Tkinter GUI [2]</h1>
<p>This is the first python GUI that I ever used. Its UI interface is
ugly, however it is also the most supported UI designer on all versions
of python.</p>
<h2 id="a-minimal-example-1">A minimal example [1]</h2>
<p>This example is provide in the reference.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">import Tkinter as tk</span><br><span class="line"></span><br><span class="line">class ExampleApp(tk.Frame):</span><br><span class="line">    &apos;&apos;&apos; An example application for TkInter. Instantiate</span><br><span class="line">        and call the run method to run. &apos;&apos;&apos;</span><br><span class="line">    def __init__(self, master):</span><br><span class="line">        # Initialize window using the parent&apos;s constructor</span><br><span class="line">        tk.Frame.__init__(self,</span><br><span class="line">                          master,</span><br><span class="line">                          width=300,</span><br><span class="line">                          height=200)</span><br><span class="line">        # Set the title</span><br><span class="line">        self.master.title(&apos;TkInter Example&apos;)</span><br><span class="line">        # This allows the size specification to take effect</span><br><span class="line">        self.pack_propagate(0)</span><br><span class="line">        # We&apos;ll use the flexible pack layout manager</span><br><span class="line">        self.pack()</span><br><span class="line">        # The greeting selector</span><br><span class="line">        # Use a StringVar to access the selector&apos;s value</span><br><span class="line">        self.greeting_var = tk.StringVar()</span><br><span class="line">        self.greeting = tk.OptionMenu(self,</span><br><span class="line">                                      self.greeting_var,</span><br><span class="line">                                      &apos;hello&apos;,</span><br><span class="line">                                      &apos;goodbye&apos;,</span><br><span class="line">                                      &apos;heyo&apos;)</span><br><span class="line">        self.greeting_var.set(&apos;hello&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        # The recipient text entry control and its StringVar</span><br><span class="line">        self.recipient_var = tk.StringVar()</span><br><span class="line">        self.recipient = tk.Entry(self,</span><br><span class="line">                                  textvariable=self.recipient_var)</span><br><span class="line">        self.recipient_var.set(&apos;world&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        # The go button</span><br><span class="line">        self.go_button = tk.Button(self,</span><br><span class="line">                                   text=&apos;Go&apos;,</span><br><span class="line">                                   command=self.print_out)</span><br><span class="line">        # Put the controls on the form</span><br><span class="line">        self.go_button.pack(fill=tk.X, side=tk.BOTTOM)</span><br><span class="line">        self.greeting.pack(fill=tk.X, side=tk.TOP)</span><br><span class="line">        self.recipient.pack(fill=tk.X, side=tk.TOP)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    def print_out(self):</span><br><span class="line">        &apos;&apos;&apos; Print a greeting constructed</span><br><span class="line">            from the selections made by</span><br><span class="line">            the user. &apos;&apos;&apos;</span><br><span class="line">        print(&apos;%s, %s!&apos; % (self.greeting_var.get().title(),</span><br><span class="line">                           self.recipient_var.get()))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    def run(self):</span><br><span class="line">        &apos;&apos;&apos; Run the app &apos;&apos;&apos;</span><br><span class="line">        self.mainloop()</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">app = ExampleApp(tk.Tk())</span><br><span class="line">app.run()</span><br></pre></td></tr></table></figure>
<h2 id="label-display">Label display</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Label for EAST shot</span><br><span class="line">Label_shot = tk.Label(self, text = &apos;shot&apos;, font = (&quot;Arial&quot;, 16))</span><br><span class="line">Label_shot.place(relx = 0.005, rely = 0)</span><br></pre></td></tr></table></figure>
<p>relx and rely controls the relative position of the Label window
"place" property control where the Label will display in the main frame
window.</p>
<h2 id="text-input-box">Text input box</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Text input for shot number</span><br><span class="line">self.recipient1_shot = tk.IntVar()</span><br><span class="line">self.recipient1 = tk.Entry(self,textvariable=self.recipient1_shot,</span><br><span class="line">font=(&quot;Arial&quot;, 16))</span><br><span class="line">self.recipient1_shot.set(&apos;00000&apos;)</span><br><span class="line">self.recipient1.place(relx = 0.08, rely = 0, relwidth = 0.08)</span><br></pre></td></tr></table></figure>
<p>Get the return value of Text input box: shot =
numpy.float(self.recipient1_shot)</p>
<h2 id="check-button">Check button</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Checkbutton for LHW all power</span><br><span class="line">self.Check_LHW = tk.IntVar()</span><br><span class="line">self.CB_LHW = tk.Checkbutton(self, text = &quot;LHW all&quot;,</span><br><span class="line">              variable = self.Check_LHW, onvalue = 1, offvalue = 0,</span><br><span class="line">              font = (&quot;Arial&quot;, font_size), justify = tk.RIGHT)</span><br><span class="line">self.CB_LHW.place(relx = 0, rely = 0.3)</span><br></pre></td></tr></table></figure>
<p>Get the return value of a check button: on_off = self.Check_LHW =
tk.IntVar() If the check button is checked, on_off has value = 1. if it
is not checked like the default case, the on_off value = 0. This value
can be used for logical judgment.</p>
<h2 id="canvas-figure-window">Canvas figure window</h2>
<p>Canvas will prepare an area to display figures inside the GUI main
window. <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># prepare a figure plot</span><br><span class="line">fig = pyplot.figure()</span><br><span class="line">ax = fig.add_subplot(111)</span><br><span class="line">ax.plot(t, sig)</span><br><span class="line"># a tk.DrawingArea</span><br><span class="line">canvas = FigureCanvasTkAgg(fig, master = self)</span><br><span class="line">canvas.show()</span><br><span class="line">canvas.get_tk_widget().pack(side=tk.TOP, fill=tk.BOTH, expand=1)</span><br><span class="line">toolbar = NavigationToolbar2TkAgg(canvas, self)</span><br><span class="line">toolbar.update()</span><br><span class="line"># Control plot area</span><br><span class="line"># canvas._tkcanvas.pack(side=tk.TOP, fill=tk.BOTH, expand=1)</span><br><span class="line">canvas._tkcanvas.place(relx = 0.21, rely = 0.01)</span><br><span class="line"># canvas._tkcanvas.grid(row = 2, column = 1)</span><br></pre></td></tr></table></figure> Notice here, the fig = pyplot() initial a figure
object, ax = fig.add_plot(111) initial an axes object. The plot function
can only be attributed to axes object, while canvas only takes figure
object as an input.</p>
<h2 id="push-button">Push button</h2>
<p>Push button will initial a function to run. <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    # design plot button</span><br><span class="line">    self.go_button = tk.Button(self,text=&apos;Plot&apos;,</span><br><span class="line">    command=lambda: self.plot_out(canvas,a),font=(&quot;Arial&quot;, font_size))</span><br><span class="line">    self.go_button.place(relx = 0., rely = 0.8)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def plot_out(self, canvas, ax) :</span><br><span class="line">    ax.clear()</span><br><span class="line">    ax.plot(t, sig)</span><br><span class="line">    canvas.draw()</span><br></pre></td></tr></table></figure></p>
<p>In the code, command=lambda: self.plot_out(canvas.a) is the function
to be called. self is the object variable that contents all property of
this GUI window. as is the axes object for the plotted figure. canvas
the window object for this axes plot. This kind of structure shows a
very good programming design for the GUI code structure.</p>
<p>Final effect of the complete GUI window <img
src="east_heating_power.png" alt="EAST_heating_GUI" /></p>
<h1 id="reference">Reference</h1>
<p>[1] <a
href="https://www.pythoncentral.io/introduction-python-gui-development/">https://www.pythoncentral.io/introduction-python-gui-development/</a></p>
<p>[2] <a
href="http://robotic-controls.com/learn/python-guis/basics-tkinter-gui">http://robotic-controls.com/learn/python-guis/basics-tkinter-gui</a></p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>DocNan</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://docnan.github.io/2018/07/21/Python-GUI/">https://docnan.github.io/2018/07/21/Python-GUI/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>我们的梦想是星辰大海！</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="../../../../tags/Python/"># Python</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();" target="_blank" rel="noopener">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="../Matlab-GUI/">Matlab GUI</a>
            
            
            <a class="next" rel="next" href="../../05/units-analysis/">Units Analysis</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© DocNan | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
